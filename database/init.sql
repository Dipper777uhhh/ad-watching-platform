-- Users table
CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    birth_date DATE NOT NULL,
    balance DECIMAL(10,4) DEFAULT 0.0000,
    ads_watched_today INTEGER DEFAULT 0,
    last_promo_date DATE,
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    session_id TEXT
);

-- Promo codes table
CREATE TABLE IF NOT EXISTS promo_codes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    code VARCHAR(20) UNIQUE NOT NULL,
    value DECIMAL(10,4) DEFAULT 0.0010,
    is_used BOOLEAN DEFAULT 0,
    used_by_user_id INTEGER,
    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (used_by_user_id) REFERENCES users(id)
);

-- Withdrawals table
CREATE TABLE IF NOT EXISTS withdrawals (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    amount DECIMAL(10,4) NOT NULL,
    method VARCHAR(20) NOT NULL,
    account_details TEXT NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    processed_date TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- Ad views table
CREATE TABLE IF NOT EXISTS ad_views (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    earnings DECIMAL(10,4) DEFAULT 0.0007,
    view_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- Insert 50 promo codes
INSERT OR IGNORE INTO promo_codes (code) VALUES 
('EARN2024A1B2C3'),
('BONUS5X7Y9Z4K6'),
('REWARD8M3N7P2Q5'),
('GIFT1L4R8T9W2E'),
('LUCKY3F6H9J1K4'),
('MONEY7S2D5G8H0'),
('COINS9Q3W6E8R1'),
('PRIZE4T7Y2U5I8'),
('CASH6R9T1Y4U7I'),
('GOLD2E5R8T1Y4U'),
('SILVER3W6E9R2T5'),
('BRONZE7Y1U4I8O0'),
('DIAMOND5T8Y2U6I9'),
('RUBY3R7T1Y5U8I'),
('EMERALD9E2R6T0Y4'),
('SAPPHIRE1Y5U8I2O6'),
('PEARL4U7I1O5P9S'),
('CRYSTAL6I0O4P8S2D'),
('TREASURE8O3P7S1D5F'),
('FORTUNE1P6S0D4F8G2'),
('WEALTH3S8D2F6G0H4'),
('RICHES5D1F5G9H3J7'),
('JACKPOT7F4G8H2J6K0'),
('WINNER9G7H1J5K9L3'),
('CHAMPION2H0J4K8L2Z6'),
('VICTORY4J3K7L1Z5X9'),
('SUCCESS6K6L0Z4X8C2'),
('TRIUMPH8L9Z3X7C1V5'),
('ACHIEVE0Z2X6C0V4B8'),
('PROSPER2X5C9V3B7N1'),
('THRIVE4C8V2B6N0M4'),
('FLOURISH6V1B5N9M3Q7'),
('ADVANCE8B4N8M2Q6W0'),
('PROGRESS0N7M1Q5W9E3'),
('DEVELOP2M0Q4W8E2R6'),
('IMPROVE4Q3W7E1R5T9'),
('ENHANCE6W6E0R4T8Y2'),
('UPGRADE8E9R3T7Y1U5'),
('BOOST0R2T6Y0U4I8O'),
('ELEVATE2T5Y9U3I7O1'),
('MAXIMIZE4Y8U2I6O0P4'),
('OPTIMIZE6U1I5O9P3A7'),
('AMPLIFY8I4O8P2A6S0'),
('MULTIPLY0O7P1A5S9D3'),
('INCREASE2P0A4S8D2F6'),
('EXPAND4A3S7D1F5G9H'),
('EXTEND6S6D0F4G8H2J'),
('STRETCH8D9F3G7H1J5K'),
('BROADEN0F2G6H0J4K8L'),
('WIDEN2G5H9J3K7L1Z5');
